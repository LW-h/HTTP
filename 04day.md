## 返回结果的HTTP状态码

> HTTP状态码负责表示客户端HTTP请求的返回结果、标记服务器端的处理是否正常、通知出现的错误等工作。借助状态码，用户可以知道服务器端是正常处理了请求，还是出现了错误。状态码是3位数字和原因短语组成。数字中第一位指定了响应类别，后两位无分类，类别如下：

+ 1XX：类别【informational信息状态码】；原因短语【接收的请求正在处理】
+ 2XX：类别【Success成功状态码】；原因短语【请求正常处理完毕】
+ 3XX：类别【Redirection重定向状态码】；原因短语【需要进行附加操作以完成请求】
+ 4XX：类别【Client Error客户端错误状态码】；原因短语【服务器无法处理请求】
+ 5XX：类别【Server Error服务器错误状态码】；原因短语【服务器处理请求出错】

2XX成功

+ 200 ok:表示从客户端发来的请求在服务器端被正常处理了。随状态码一起返回的信息会因方法的不同而发生改变。例如：使用GET方法，对于请求的实体会返回，而使用HEAD方法时，对应请求资源的实体部分不随报文主体作为响应返回(只返回首部，不返回实体)
+ 204 No Content:该状态码表示服务端接收的请求已经成功处理，但在返回的响应报文中不含实体的主体部分。另外，也不允许返回实体的主体。一般在只需要从客户端往服务端发送信息，而对客户端不需要发送新信息的情况下使用
+ 206 Partial Content:该状态码表示客户端进行了范围请求，而服务器成功执行了这部分的GET请求。响应报文中包含由Content-Range指定范围的实体内容

3XX重定向

+ 301 Moved Permanently:永久性重定向。该状态码请求的资源已经被分配了新的URI，以后应该使用新的URI。也就是说，如果已经把资源对应的URI保存为了书签，这时应该按Location首部字段提示的URI重新保存
+ 302 Found:临时性重定向。该状态码表示请求的资源已被分配了新的URI。和301状态码相似，但302状态码代表的资源不是被永久移动，只是临时性质。
+ 303 See Other:该状态码表示由于请求对应的资源存在着另一个URI，使用GET方法重定向获取请求的资源【当301、302、303响应状态码返回时，几乎所有的浏览器都会把POST请求改成GET，并删除请求报文内的主体，之后请求会自动再次发送。301、302标准是禁止将POST方法改变成GET方法的，但实际使用时大家都会这么做】
+ 304 Not Modified:该状态表示客户端发送附带条件的请求时，服务器允许请求访问的资源，但未满足条件的情况。304返回时，不包含任何响应主体。304虽然被划分在3XX内中，但与重定向没有关系【附带条件的请求是指采用GET方法的请求报文中包含：if-Match,if-Modified-Since,if-None-Match,if-Range,if-Unmodified-Since中任一首部】
+ 307 Temporary Redirect:临时重定向，该状态码与302类似。尽管302标准禁止POST变成GET，但实际使用并没有遵循。307会遵照浏览器标准，不会从POST变成GET。但是，对于处理响应时的行为，每种浏览器可能出现不同的情况

4XX客户端错误

+ 400 Bad Reauest:该状态码表示请求报文中存在语法错误。当错误发生时，需要修改请求的内容后再次发送请求。另外，浏览器会像200 OK一样对待该状态码
+ 401 Unauthorized:该状态码表示发送的请求需要通过HTTP认证(BASIC 认证、DIGEST认证)的认证信息。另外若之前已经进行了一次请求，则表示用户认证失败。返回含有401的响应必须包含一个适用于被请求资源的WWW-Authenticate首部用于质询challenge用户信息。当浏览器初次接收到401响应，会弹出认证用的对话框
+ 403 Forbidden:表明请求的资源的访问被服务器拒绝了。服务器端没有必要给出拒绝的详细理由，但如果想作说明的话，可以在实体的主体部分对原因进行描述，这样用户就可以看到了。未获得文件系统的访问权限，访问权限出现某些问题(从未授权的发送源IP地址试图访问)等列举的情况都可能出现这个问题
+ 404 Not Found:表明服务器上无法找到请求的资源。初次之外，也可以在服务器端拒绝请求且不想说明理由时使用

5XX服务器错误

+ 500 Internal Server Error:表明服务器在执行请求时发生了错误，也可能是Web应用存在的bug或临时的错误
+ 503 Service Unavailable:表明服务器暂时处于超负荷或正在进行停机维护，现在无法处理请求。如果事先得知以上状况需要的时间，最好写入RetryAfter首部字段再返回给客户端

> 状态码和状况不一致。不少返回的状态码响应都是错的，但是用户可能察觉不到。