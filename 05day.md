## 与HTTP协作的Web

> 一台Web服务器可以建立多个独立域名的Web网站，也可以作为通信路径上的中转服务器提升传输效率

> 利用虚拟主机(Virtual Host,虚拟服务器)的功能。即使物理层只有一台服务器，但只要使用虚拟主机的功能，则可以实现多台服务器。由于虚拟主机可以寄存多个不同的主机名和域名的Web网站，因此在发送HTTP请求时，必须在Host首部内完整指定主机名或域名的URI

通信数据转发程序：代理、网关、隧道

> HTTP通信时，除了客户端和服务器以外，还有一些通信数据转发的应用程序。可以配合服务器工作。

+ 代理：扮演了位于服务器和客户端‘中间人’的角色，接收由客户端发送的请求并转发给服务器。同时也接收服务器返回的响应并转发给客户端。代理不改变请求URI，会直接发送给前方持有资源的目标服务器。每次通过代理服务器转发请求或响应时，会追加写入Via首部信息，标记经过的主机信息。代理有多种使用方法，按两种基准分类。一种是是否使用缓存，另一种是否会修改报文。**缓存代理：代理转发响应时，缓存代理(Caching Proxy)会预先将资源的副本(缓存)保留在代理服务器上。当代理再次接收到对相同资源的请求时，就可以不从源服务器那里获取资源，而是以之前缓存源作为响应返回。透明代理：转发请求或响应时，不对报文做任何加工的代理叫做透明代理(Transparent Proxy),反之称为非透明代理**。
+ 网关：网关是转发其它服务器通信数据的服务器，接收从客户端发送过来的请求时，它就像自己拥有资源的源服务器一样对请求进行处理。利用网关可以由HTTP请求转化为其它协议通信。网关的工作机制和代理十分相似。而网关能使通信线路上的服务器提供非HTTP协议服务。**利用网关能提高通信的安全性，因为可以在客户端与网关之间的通信线路上加密以确保连接的安全。**
+ 隧道：隧道是在相隔甚远的客户端和服务器两者之间进行中转，保持双方通信连接的应用程序。隧道可以按要求建立起一条与其他服务器的通信线路，届时使用SSL等加密手段进行通信。**隧道的目的是确保客户端能与服务器进行安全的通信。**

保存资源的缓存

> 利用缓存可以减少对源服务器的访问，因此也就节省了通信流量和通信时间。即使存在缓存，也会因为客户端的要求、缓存的有效期等因素，向源服务器确认资源的有效性。若判断缓存失败，缓存服务器将会再次从源服务器上获取新资源。缓存不仅可以在缓存服务器上，也可以在客户端浏览器上。浏览器缓存如果有效，就不必再向服务器请求相同的资源了。当缓存失效时，会向源服务器确认资源的有效性。


> 在HTTP协议规范确定之际，制定者们参考了那些协议功能，有些协议已经彻底的推出了人们视线。

+ FTP(file Transfer protocol):该协议历史悠久，可追溯到1973年前后，比TCP/IP协议出现还要早，虽然在1995年被HTTP的流量超越，但今天任然被广泛运用
+ NNTP(Network New Transfer Protocol):用于在NetNews电子会议室传送信息的协议，在1986年前后出现，现今，利用Web的交换信息已成主流，该协议已经消失在人们视野
+ Archie:瘦素anonymous FTP公开的的文件信息的协议。1990年前后出现。
+ WAIS(Wide Area Information Server):以关键字检索多个数据库的协议，1991年前后出现，现今已经被HTTP协议代替
+ Gopher:查找与互联网连接的计算机内信息的协议。1991年前后出现，现今已经被HTTP协议代替